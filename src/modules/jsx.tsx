function jsx_props(props: any): string {
	return Object.entries(props || {}).map(([k, v]) =>
		typeof(v) === 'boolean'
			? (v ? k : '')
			: `${k}="${v}"`
	).join(' ');
}

function jsx_children(...children: any[]): string {
	return children.flat().map(child =>
			typeof child === 'object'
		?	jsx(child.type, child.props, ...child.children ?? [])
		:	child?.toString() ?? ''
	).join('');
}

export function jsx(type: any, props: any, ...children: any[]): string {
	try {
		if (typeof type === 'function')
			return type(props, ...children);

		return `<${type} ${jsx_props(props)}>${jsx_children(...children)}</${type}>`;

		return children.length
			? `<${type} ${jsx_props(props)}>${jsx_children(...children)}</${type}>`
			: `<${type} ${jsx_props(props)}/>`;
	} catch (e) {
		console.log(e);
		throw e;
	}
}

export function fragment(props: any, ...children: any[]): string {
	return jsx_children(...children);
}

//export type Element = ReturnType<typeof jsx>;


export const codicons = {
	add:	    							 0xea60,
	lightbulb:	    						 0xea61,
	repo:	    							 0xea62,
	fork:	    							 0xea63,
	pullRequest:	    					 0xea64,
	keyboard:	    						 0xea65,
	tag:	    							 0xea66,
	person:	    							 0xea67,
	branch:	    							 0xea68,
	mirror:	    							 0xea69,
	star:	    							 0xea6a,
	comment:	    						 0xea6b,
	alert:	    							 0xea6c,
	search:	    							 0xea6d,
	logOut:	    							 0xea6e,
	logIn:	    							 0xea6f,
	eye:	    							 0xea70,
	circleFilled:	    					 0xea71,
	primitiveSquare:	    				 0xea72,
	pencil:	    							 0xea73,
	info:	    							 0xea74,
	private:	    						 0xea75,
	close:	    							 0xea76,
	sync:	    							 0xea77,
	clone:	    							 0xea78,
	beaker:	    							 0xea79,
	desktop:	    						 0xea7a,
	file:	    							 0xea7b,
	ellipsis:	    						 0xea7c,
	reply:	    							 0xea7d,
	organization:	    					 0xea7e,
	newFile:	    						 0xea7f,
	newFolder:	    						 0xea80,
	trash:	    							 0xea81,
	clock:	    							 0xea82,
	folder:	    							 0xea83,
	github:	    							 0xea84,
	terminal:	    						 0xea85,
	symbolEvent:	    					 0xea86,
	error:	    							 0xea87,
	variable:	    						 0xea88,
	array:	    							 0xea8a,
	symbolModule:	    					 0xea8b,
	symbolFunction:	    					 0xea8c,
	symbolBoolean:	    					 0xea8f,
	symbolNumber:	    					 0xea90,
	symbolStruct:	    					 0xea91,
	symbolParameter:	    				 0xea92,
	symbolKey:	    						 0xea93,
	symbolReference:	    				 0xea94,
	symbolValue:	    					 0xea95,
	symbolUnit:	    						 0xea96,
	activateBreakpoints:	    			 0xea97,
	archive:	    						 0xea98,
	arrowBoth:	    						 0xea99,
	arrowDown:	    						 0xea9a,
	arrowLeft:	    						 0xea9b,
	arrowRight:	    						 0xea9c,
	arrowSmallDown:	    					 0xea9d,
	arrowSmallLeft:	    					 0xea9e,
	arrowSmallRight:	    				 0xea9f,
	arrowSmallUp:	    					 0xeaa0,
	arrowUp:	    						 0xeaa1,
	bell:	    							 0xeaa2,
	bold:	    							 0xeaa3,
	book:	    							 0xeaa4,
	bookmark:	    						 0xeaa5,
	debugBreakpointConditionalUnverified:	 0xeaa6,
	debugBreakpointConditional:	    		 0xeaa7,
	debugBreakpointDataUnverified:	    	 0xeaa8,
	debugBreakpointData:	    			 0xeaa9,
	debugBreakpointLogUnverified:	    	 0xeaaa,
	debugBreakpointLog:	    				 0xeaab,
	briefcase:	    						 0xeaac,
	broadcast:	    						 0xeaad,
	browser:	    						 0xeaae,
	bug:	    							 0xeaaf,
	calendar:	    						 0xeab0,
	caseSensitive:	    					 0xeab1,
	check:	    							 0xeab2,
	checklist:	    						 0xeab3,
	chevronDown:	    					 0xeab4,
	chevronLeft:	    					 0xeab5,
	chevronRight:	    					 0xeab6,
	chevronUp:	    						 0xeab7,
	chromeClose:	    					 0xeab8,
	chromeMaximize:	    					 0xeab9,
	chromeMinimize:	    					 0xeaba,
	chromeRestore:	    					 0xeabb,
	circle:	    							 0xeabc,
	circleSlash:	    					 0xeabd,
	circuitBoard:	    					 0xeabe,
	clearAll:	    						 0xeabf,
	clippy:	    							 0xeac0,
	closeAll:	    						 0xeac1,
	cloudDownload:	    					 0xeac2,
	cloudUpload:	    					 0xeac3,
	code:	    							 0xeac4,
	collapseAll:	    					 0xeac5,
	colorMode:	    						 0xeac6,
	commentDiscussion:	    				 0xeac7,
	creditCard:	    						 0xeac9,
	dash:	    							 0xeacc,
	dashboard:	    						 0xeacd,
	database:	    						 0xeace,
	debugContinue:	    					 0xeacf,
	debugDisconnect:	    				 0xead0,
	debugPause:	    						 0xead1,
	debugRestart:	    					 0xead2,
	debugStart:	    						 0xead3,
	debugStepInto:	    					 0xead4,
	debugStepOut:	    					 0xead5,
	debugStepOver:	    					 0xead6,
	debugStop:	    						 0xead7,
	debug:	    							 0xead8,
	deviceCameraVideo:	    				 0xead9,
	deviceCamera:	    					 0xeada,
	deviceMobile:	    					 0xeadb,
	diffAdded:	    						 0xeadc,
	diffIgnored:	    					 0xeadd,
	diffModified:	    					 0xeade,
	diffRemoved:	    					 0xeadf,
	diffRenamed:	    					 0xeae0,
	diff:	    							 0xeae1,
	discard:	    						 0xeae2,
	editorLayout:	    					 0xeae3,
	emptyWindow:	    					 0xeae4,
	exclude:	    						 0xeae5,
	extensions:	    						 0xeae6,
	eyeClosed:	    						 0xeae7,
	fileBinary:	    						 0xeae8,
	fileCode:	    						 0xeae9,
	fileMedia:	    						 0xeaea,
	filePdf:	    						 0xeaeb,
	fileSubmodule:	    					 0xeaec,
	fileSymlinkDirectory:	    			 0xeaed,
	fileSymlinkFile:	    				 0xeaee,
	fileZip:	    						 0xeaef,
	files:	    							 0xeaf0,
	filter:	    							 0xeaf1,
	flame:	    							 0xeaf2,
	foldDown:	    						 0xeaf3,
	foldUp:	    							 0xeaf4,
	fold:	    							 0xeaf5,
	folderActive:	    					 0xeaf6,
	folderOpened:	    					 0xeaf7,
	gear:	    							 0xeaf8,
	gift:	    							 0xeaf9,
	gistSecret:	    						 0xeafa,
	gist:	    							 0xeafb,
	gitCommit:	    						 0xeafc,
	compareChanges:	    					 0xeafd,
	gitMerge:	    						 0xeafe,
	githubAction:	    					 0xeaff,
	githubAlt:	    						 0xeb00,
	globe:	    							 0xeb01,
	grabber:	    						 0xeb02,
	graph:	    							 0xeb03,
	gripper:	    						 0xeb04,
	heart:	    							 0xeb05,
	home:	    							 0xeb06,
	horizontalRule:	    					 0xeb07,
	hubot:	    							 0xeb08,
	inbox:	    							 0xeb09,
	issueReopened:	    					 0xeb0b,
	issues:	    							 0xeb0c,
	italic:	    							 0xeb0d,
	jersey:	    							 0xeb0e,
	bracket:	    						 0xeb0f,
	kebabVertical:	    					 0xeb10,
	key:	    							 0xeb11,
	law:	    							 0xeb12,
	lightbulbAutofix:	    				 0xeb13,
	linkExternal:	    					 0xeb14,
	link:	    							 0xeb15,
	listOrdered:	    					 0xeb16,
	listUnordered:	    					 0xeb17,
	liveShare:	    						 0xeb18,
	loading:	    						 0xeb19,
	location:	    						 0xeb1a,
	mailRead:	    						 0xeb1b,
	mail:	    							 0xeb1c,
	markdown:	    						 0xeb1d,
	megaphone:	    						 0xeb1e,
	mention:	    						 0xeb1f,
	milestone:	    						 0xeb20,
	mortarBoard:	    					 0xeb21,
	move:	    							 0xeb22,
	multipleWindows:	    				 0xeb23,
	mute:	    							 0xeb24,
	noNewline:	    						 0xeb25,
	note:	    							 0xeb26,
	octoface:	    						 0xeb27,
	openPreview:	    					 0xeb28,
	package:	    						 0xeb29,
	paintcan:	    						 0xeb2a,
	pin:	    							 0xeb2b,
	play:	    							 0xeb2c,
	plug:	    							 0xeb2d,
	preserveCase:	    					 0xeb2e,
	preview:	    						 0xeb2f,
	project:	    						 0xeb30,
	pulse:	    							 0xeb31,
	question:	    						 0xeb32,
	quote:	    							 0xeb33,
	radioTower:	    						 0xeb34,
	reactions:	    						 0xeb35,
	references:	    						 0xeb36,
	refresh:	    						 0xeb37,
	regex:	    							 0xeb38,
	remoteExplorer:	    					 0xeb39,
	remote:	    							 0xeb3a,
	remove:	    							 0xeb3b,
	replaceAll:	    						 0xeb3c,
	replace:	    						 0xeb3d,
	repoClone:	    						 0xeb3e,
	repoForcePush:	    					 0xeb3f,
	repoPull:	    						 0xeb40,
	repoPush:	    						 0xeb41,
	report:	    							 0xeb42,
	requestChanges:	    					 0xeb43,
	rocket:	    							 0xeb44,
	rootFolderOpened:	    				 0xeb45,
	rootFolder:	    						 0xeb46,
	rss:	    							 0xeb47,
	ruby:	    							 0xeb48,
	saveAll:	    						 0xeb49,
	saveAs:	    							 0xeb4a,
	save:	    							 0xeb4b,
	screenFull:	    						 0xeb4c,
	screenNormal:	    					 0xeb4d,
	searchStop:	    						 0xeb4e,
	server:	    							 0xeb50,
	settingsGear:	    					 0xeb51,
	settings:	    						 0xeb52,
	shield:	    							 0xeb53,
	smiley:	    							 0xeb54,
	sortPrecedence:	    					 0xeb55,
	splitHorizontal:	    				 0xeb56,
	splitVertical:	    					 0xeb57,
	squirrel:	    						 0xeb58,
	starFull:	    						 0xeb59,
	starHalf:	    						 0xeb5a,
	symbolClass:	    					 0xeb5b,
	symbolColor:	    					 0xeb5c,
	symbolConstant:	    					 0xeb5d,
	symbolEnumMember:	    				 0xeb5e,
	symbolField:	    					 0xeb5f,
	symbolFile:	    						 0xeb60,
	symbolInterface:	    				 0xeb61,
	symbolKeyword:	    					 0xeb62,
	symbolMisc:	    						 0xeb63,
	symbolOperator:	    					 0xeb64,
	symbolProperty:	    					 0xeb65,
	symbolSnippet:	    					 0xeb66,
	tasklist:	    						 0xeb67,
	telescope:	    						 0xeb68,
	textSize:	    						 0xeb69,
	threeBars:	    						 0xeb6a,
	thumbsdown:	    						 0xeb6b,
	thumbsup:	    						 0xeb6c,
	tools:	    							 0xeb6d,
	triangleDown:	    					 0xeb6e,
	triangleLeft:	    					 0xeb6f,
	triangleRight:	    					 0xeb70,
	triangleUp:	    						 0xeb71,
	twitter:	    						 0xeb72,
	unfold:	    							 0xeb73,
	unlock:	    							 0xeb74,
	unmute:	    							 0xeb75,
	unverified:	    						 0xeb76,
	verified:	    						 0xeb77,
	versions:	    						 0xeb78,
	vmActive:	    						 0xeb79,
	vmOutline:	    						 0xeb7a,
	vmRunning:	    						 0xeb7b,
	watch:	    							 0xeb7c,
	whitespace:	    						 0xeb7d,
	wholeWord:	    						 0xeb7e,
	window:	    							 0xeb7f,
	wordWrap:	    						 0xeb80,
	zoomIn:	    							 0xeb81,
	zoomOut:	    						 0xeb82,
	listFilter:	    						 0xeb83,
	listFlat:	    						 0xeb84,
	listSelection:	    					 0xeb85,
	listTree:	    						 0xeb86,
	debugBreakpointFunctionUnverified:	     0xeb87,
	debugBreakpointFunction:	    		 0xeb88,
	debugStackframeActive:	    			 0xeb89,
	circleSmallFilled:	    				 0xeb8a,
	debugStackframe:	    				 0xeb8b,
	debugBreakpointUnsupported:	    		 0xeb8c,
	symbolString:	    					 0xeb8d,
	debugReverseContinue:	    			 0xeb8e,
	debugStepBack:	    					 0xeb8f,
	debugRestartFrame:	    				 0xeb90,
	debugAlt:	    						 0xeb91,
	callIncoming:	    					 0xeb92,
	callOutgoing:	    					 0xeb93,
	menu:	    							 0xeb94,
	expandAll:	    						 0xeb95,
	feedback:	    						 0xeb96,
	groupByRefType:	    					 0xeb97,
	ungroupByRefType:	    				 0xeb98,
	account:	    						 0xeb99,
	bellDot:	    						 0xeb9a,
	debugConsole:	    					 0xeb9b,
	library:	    						 0xeb9c,
	output:	    							 0xeb9d,
	runAll:	    							 0xeb9e,
	syncIgnored:	    					 0xeb9f,
	pinned:	    							 0xeba0,
	githubInverted:	    					 0xeba1,
	serverProcess:	    					 0xeba2,
	serverEnvironment:	    				 0xeba3,
	pass:	    							 0xeba4,
	stopCircle:	    						 0xeba5,
	playCircle:	    						 0xeba6,
	record:	    							 0xeba7,
	debugAltSmall:	    					 0xeba8,
	vmConnect:	    						 0xeba9,
	cloud:	    							 0xebaa,
	merge:	    							 0xebab,
	export:	    							 0xebac,
	graphLeft:	    						 0xebad,
	magnet:	    							 0xebae,
	notebook:	    						 0xebaf,
	redo:	    							 0xebb0,
	checkAll:	    						 0xebb1,
	pinnedDirty:	    					 0xebb2,
	passFilled:	    						 0xebb3,
	circleLargeFilled:	    				 0xebb4,
	circleLarge:	    					 0xebb5,
	combine:	    						 0xebb6,
	table:	    							 0xebb7,
	variableGroup:	    					 0xebb8,
	typeHierarchy:	    					 0xebb9,
	typeHierarchySub:	    				 0xebba,
	typeHierarchySuper:	    				 0xebbb,
	gitPullRequestCreate:	    			 0xebbc,
	runAbove:	    						 0xebbd,
	runBelow:	    						 0xebbe,
	notebookTemplate:	    				 0xebbf,
	debugRerun:	    						 0xebc0,
	workspaceTrusted:	    				 0xebc1,
	workspaceUntrusted:	    				 0xebc2,
	workspaceUnknown:	    				 0xebc3,
	terminalCmd:	    					 0xebc4,
	terminalDebian:	    					 0xebc5,
	terminalLinux:	    					 0xebc6,
	terminalPowershell:	    				 0xebc7,
	terminalTmux:	    					 0xebc8,
	terminalUbuntu:	    					 0xebc9,
	terminalBash:	    					 0xebca,
	arrowSwap:	    						 0xebcb,
	copy:	    							 0xebcc,
	personAdd:	    						 0xebcd,
	filterFilled:	    					 0xebce,
	wand:	    							 0xebcf,
	debugLineByLine:	    				 0xebd0,
	inspect:	    						 0xebd1,
	layers:	    							 0xebd2,
	layersDot:	    						 0xebd3,
	layersActive:	    					 0xebd4,
	compass:	    						 0xebd5,
	compassDot:	    						 0xebd6,
	compassActive:	    					 0xebd7,
	azure:	    							 0xebd8,
	issueDraft:	    						 0xebd9,
	gitPullRequestClosed:	    			 0xebda,
	gitPullRequestDraft:	    			 0xebdb,
	debugAll:	    						 0xebdc,
	debugCoverage:	    					 0xebdd,
	runErrors:	    						 0xebde,
	folderLibrary:	    					 0xebdf,
	debugContinueSmall:	    				 0xebe0,
	beakerStop:	    						 0xebe1,
	graphLine:	    						 0xebe2,
	graphScatter:	    					 0xebe3,
	pieChart:	    						 0xebe4,
	bracketDot:	    						 0xebe5,
	bracketError:	    					 0xebe6,
	lockSmall:	    						 0xebe7,
	azureDevops:	    					 0xebe8,
	verifiedFilled:	    					 0xebe9,
	newline:	    						 0xebea,
	layout:	    							 0xebeb,
	layoutActivitybarLeft:	    			 0xebec,
	layoutActivitybarRight:	    			 0xebed,
	layoutPanelLeft:	    				 0xebee,
	layoutPanelCenter:	    				 0xebef,
	layoutPanelJustify:	    				 0xebf0,
	layoutPanelRight:	    				 0xebf1,
	layoutPanel:	    					 0xebf2,
	layoutSidebarLeft:	    				 0xebf3,
	layoutSidebarRight:	    				 0xebf4,
	layoutStatusbar:	    				 0xebf5,
	layoutMenubar:	    					 0xebf6,
	layoutCentered:	    					 0xebf7,
	target:	    							 0xebf8,
	indent:	    							 0xebf9,
	recordSmall:	    					 0xebfa,
	errorSmall:	    						 0xebfb,
	arrowCircleDown:	    				 0xebfc,
	arrowCircleLeft:	    				 0xebfd,
	arrowCircleRight:	    				 0xebfe,
	arrowCircleUp:	    					 0xebff,
	layoutSidebarRightOff:	    			 0xec00,
	layoutPanelOff:	    					 0xec01,
	layoutSidebarLeftOff:	    			 0xec02,
	blank:	    							 0xec03,
	heartFilled:	    					 0xec04,
	foldHorizontal:	    					 0xec05,
	foldHorizontalFilled:	    			 0xec06,
	circleSmall:	    					 0xec07,
	bellSlash:	    						 0xec08,
	bellSlashDot:	    					 0xec09,
	commentUnresolved:	    				 0xec0a,
	gitPullRequestGoToChanges:	    		 0xec0b,
	gitPullRequestNewChanges:	    		 0xec0c,
	searchFuzzy:	    					 0xec0d,
	commentDraft:	    					 0xec0e,
	send:	    							 0xec0f,
	sparkle:	    						 0xec10,
	insert:	    							 0xec11,
	mic:	    							 0xec12,
	thumbsdownFilled:	    				 0xec13,
	thumbsupFilled:	    					 0xec14,
	coffee:	    							 0xec15,
	snake:	    							 0xec16,
	game:	    							 0xec17,
	vr:	    								 0xec18,
	chip:	    							 0xec19,
	piano:	    							 0xec1a,
	music:	    							 0xec1b,
	micFilled:	    						 0xec1c,
	repoFetch:	    						 0xec1d,
	copilot:	    						 0xec1e,
	lightbulbSparkle:	    				 0xec1f,
	robot:	    							 0xec20,
	sparkleFilled:	    					 0xec21,
	diffSingle:	    						 0xec22,
	diffMultiple:	    					 0xec23,
	surroundWith:	    					 0xec24,
	share:	    							 0xec25,
	gitStash:	    						 0xec26,
	gitStashApply:	    					 0xec27,
	gitStashPop:	    					 0xec28,
	vscode:	    							 0xec29,
	vscodeInsiders:	    					 0xec2a,
	codeOss:	    						 0xec2b,
	runCoverage:	    					 0xec2c,
	runAllCoverage:	    					 0xec2d,
	coverage:	    						 0xec2e,
	githubProject:	    					 0xec2f,
	foldVertical:	    					 0xec30,
	foldVerticalFilled:	    				 0xec31,
	goToSearch:	    						 0xec32,
	percentage:	    						 0xec33,
	attach:	    							 0xec34,
} as const;

export function Icon(props: {code:number}) {
	return <span class="codicon">&#x{props.code.toString(16)};</span>;
}
export function ClickableIcon(props: {code:number, id:string}) {
	return <button class="codicon" id={props.id}>&#x{props.code.toString(16)};</button>;
}
export function Button(props: {text:string, id:string}) {
	return <button id={props.id}>{props.text}</button>;
}

export function Label(props: {id: string, display: string}) {
	return <label for={props.id}>{props.display}</label>;
}